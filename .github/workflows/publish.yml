name: Deploy to Strato

on:
  push:
    branches:
      - published  # oder main, je nachdem wie dein Branch heißt

jobs:
  ftp-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Deploy via SFTP
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          server: 5831011.swh.strato-hosting.eu
          username: ${{ secrets.sftp_GitHubDeploy }}   # ⬅️ Nur Buchstaben/Zahlen/Unterstriche
          password: ${{ secrets.zaxtew-zamPyf-1nunsa }}
          protocol: sftp                          # ⬅️ GANZ WICHTIG für Strato
          port: 22
          local-dir: ./                           # ⬅️ Wo deine Dateien im Repo liegen
          server-dir: /htdocs/                    # ⬅️ Zielordner bei Strato (Standard)
